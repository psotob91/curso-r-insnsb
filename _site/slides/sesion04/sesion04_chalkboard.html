<!DOCTYPE html>
<html lang="en"><head>
<script src="sesion04_chalkboard_files/libs/clipboard/clipboard.min.js"></script>
<script src="sesion04_chalkboard_files/libs/quarto-html/tabby.min.js"></script>
<script src="sesion04_chalkboard_files/libs/quarto-html/popper.min.js"></script>
<script src="sesion04_chalkboard_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="sesion04_chalkboard_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="sesion04_chalkboard_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="sesion04_chalkboard_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<link href="sesion04_chalkboard_files/libs/quarto-contrib/reveal-auto-agenda-0.0.1/reveal-auto-agenda.css" rel="stylesheet">
<link href="sesion04_chalkboard_files/libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="sesion04_chalkboard_files/libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.1.251">

  <title>sesion04_chalkboard</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="sesion04_chalkboard_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="sesion04_chalkboard_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
      }
    pre.numberSource { margin-left: 3em;  padding-left: 4px; }
    div.sourceCode
      { color: #b3b1ad; background-color: #0a0e14; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #b3b1ad; } /* Normal */
    code span.al { color: #ff3333; background-color: #2a0f15; font-weight: bold; } /* Alert */
    code span.an { color: #e6b673; } /* Annotation */
    code span.at { color: #59c2ff; } /* Attribute */
    code span.bn { color: #e6b450; } /* BaseN */
    code span.bu { color: #95e6cb; } /* BuiltIn */
    code span.cf { color: #ff8f40; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #95e6cb; } /* Char */
    code span.cn { color: #ffee99; } /* Constant */
    code span.co { color: #626a73; font-style: italic; } /* Comment */
    code span.cv { color: #ffee99; } /* CommentVar */
    code span.do { color: #626a73; } /* Documentation */
    code span.dt { color: #ff8f40; } /* DataType */
    code span.dv { color: #e6b450; } /* DecVal */
    code span.er { color: #ff3333; text-decoration: underline; } /* Error */
    code span.ex { color: #59c2ff; font-weight: bold; } /* Extension */
    code span.fl { color: #e6b450; } /* Float */
    code span.fu { color: #ffb454; } /* Function */
    code span.im { color: #c2d94c; } /* Import */
    code span.in { color: #e6b450; } /* Information */
    code span.kw { color: #ff8f40; font-weight: bold; } /* Keyword */
    code span.op { color: #f29668; } /* Operator */
    code span.ot { color: #39bae6; } /* Other */
    code span.pp { color: #f07178; } /* Preprocessor */
    code span.re { color: #59c2ff; background-color: #173649; } /* RegionMarker */
    code span.sc { color: #95e6cb; } /* SpecialChar */
    code span.ss { color: #95e6cb; } /* SpecialString */
    code span.st { color: #c2d94c; } /* String */
    code span.va { color: #39bae6; } /* Variable */
    code span.vs { color: #c2d94c; } /* VerbatimString */
    code span.wa { color: #f07178; } /* Warning */
  </style>
  <link rel="stylesheet" href="sesion04_chalkboard_files/libs/revealjs/dist/theme/quarto.css" id="theme">
  <link href="sesion04_chalkboard_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="sesion04_chalkboard_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="sesion04_chalkboard_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="sesion04_chalkboard_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="sesion04_chalkboard_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="sesion04_chalkboard_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-captioned.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-captioned) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-captioned.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-captioned .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-captioned .callout-caption  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-captioned.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-captioned.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-caption {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-caption {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-caption {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-captioned .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-captioned .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-captioned) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-caption {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-caption {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-caption {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-caption {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-caption {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  
  <script src="sesion04_chalkboard_files/libs/kePrint-0.0.1/kePrint.js"></script>
  <link href="sesion04_chalkboard_files/libs/lightable-0.0.1/lightable.css" rel="stylesheet">
  <link href="sesion04_chalkboard_files/libs/countdown-0.4.0/countdown.css" rel="stylesheet">
  <script src="sesion04_chalkboard_files/libs/countdown-0.4.0/countdown.js"></script>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">


<section class="slide level2">

<p><br>
</p>
<p><br>
</p>
<h1>
Sesión 4
</h1>
<h2>
<span class="plo">Curso: R Aplicado a los Proyectos de Investigación</span>
</h2>
<hr>
<h3>
<span class="negro">Percy Soto-Becerra, M.D., M.Sc(c)</span>
</h3>
<h4>
<span class="negro">InkaStats Data Science Solutions | Medical Branch</span>
</h4>
<h4>
<span class="negro">2022-10-10</span>
</h4>
<p><svg aria-hidden="true" role="img" viewbox="0 0 496 512" style="height:1em;width:0.97em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:black;overflow:visible;position:relative;"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3 .3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5 .3-6.2 2.3zm44.2-1.7c-2.9 .7-4.9 2.6-4.6 4.9 .3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3 .7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3 .3 2.9 2.3 3.9 1.6 1 3.6 .7 4.3-.7 .7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3 .7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3 .7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg> &nbsp; <a href="https://github.com/psotob91">https://github.com/psotob91</a></p>
<p><img data-src="img/social-image-f22.png" class="absolute" style="top: 390px; left: 950px; width: 600px; "></p>
</section>
<section>
<section class="title-slide slide level1 agenda-slide center">
<h1>Manejo de datos 2: Categorización y etiquetado de variables</h1>
<div class="agenda-heading">
<p>Agenda</p>
</div>
<div class="agenda">
<ol>
<li><div class="agenda-active">
<p>Manejo de datos 2: Categorización y etiquetado de variables</p>
</div></li>
<li><div class="agenda-inactive agenda-post-active">
<p>AID / AED en R</p>
</div></li>
</ol>
</div>
<div class="cell">

</div>
</section>
<section id="creación-de-variables-con-case_when" class="slide level2">
<h2>Creación de variables con <span class="verde-h3">case_when()</span></h2>
<ul>
<li><p>Función de apoyo a <span class="verde-h3">mutate()</span>para crear variables según condiciones más complejas.</p></li>
<li><p>Crea variables de acuerdo a condiciones complejas</p></li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">case_when</span>(</span>
<span id="cb1-2"><a href="#cb1-2"></a>  condición1 <span class="sc">~</span> resultado1, </span>
<span id="cb1-3"><a href="#cb1-3"></a>  condición2 <span class="sc">~</span> resultado2, </span>
<span id="cb1-4"><a href="#cb1-4"></a>  condición3 <span class="sc">~</span> resultado3</span>
<span id="cb1-5"><a href="#cb1-5"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Toda transformación o creación de variables en dplyr ocurre por mutate; por tanto, <span class="verde-h3">case_when()</span>se utiliza dentro de un mutate</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>datos <span class="sc">%&gt;%</span> </span>
<span id="cb2-2"><a href="#cb2-2"></a>  <span class="fu">mutate</span>(</span>
<span id="cb2-3"><a href="#cb2-3"></a>    <span class="at">nueva_var =</span> <span class="fu">case_when</span>(</span>
<span id="cb2-4"><a href="#cb2-4"></a>      condición1 <span class="sc">~</span> resultado1,</span>
<span id="cb2-5"><a href="#cb2-5"></a>      condición2 <span class="sc">~</span> resultado2, </span>
<span id="cb2-6"><a href="#cb2-6"></a>      condición3 <span class="sc">~</span> resultado3</span>
<span id="cb2-7"><a href="#cb2-7"></a>    )</span>
<span id="cb2-8"><a href="#cb2-8"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Atajo de teclado para obtener <code>~</code>: <kbd>Alt</kbd> + <kbd>1</kbd> + <kbd>2</kbd> + <kbd>6</kbd></li>
</ul>
</section>
<section id="condición-no-cumplida-en-case_when" class="slide level2">
<h2>Condición no cumplida en <span class="verde-h3">case_when()</span></h2>
<ul>
<li>Para indicar que todas las condiciones previas no se cumplen, se debe colocar <code>TRUE</code>:</li>
</ul>
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>datos <span class="sc">%&gt;%</span> </span>
<span id="cb3-2"><a href="#cb3-2"></a>  <span class="fu">mutate</span>(</span>
<span id="cb3-3"><a href="#cb3-3"></a>    <span class="at">nueva_var =</span> <span class="fu">case_when</span>(</span>
<span id="cb3-4"><a href="#cb3-4"></a>      condición1 <span class="sc">~</span> resultado1,</span>
<span id="cb3-5"><a href="#cb3-5"></a>      condición2 <span class="sc">~</span> resultado2, </span>
<span id="cb3-6"><a href="#cb3-6"></a>      condición3 <span class="sc">~</span> resultado3, </span>
<span id="cb3-7"><a href="#cb3-7"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> resultado_si_condición_no_se_cumple</span>
<span id="cb3-8"><a href="#cb3-8"></a>    )</span>
<span id="cb3-9"><a href="#cb3-9"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><p>Es muy importante siempre colocarla al final de cualquier conjunto de condiciones previas.</p></li>
<li><p>Cuando el resultado de no cumplirse es que se asigne valor perdido, es importante usar la función <code>as.tipo_var()</code> sobre el indicador de dato perdido <code>NA</code>.</p>
<ul>
<li><p>Si es character: <span class="verde-h3">as.character(NA)</span></p></li>
<li><p>Si es numeric: <span class="verde-h3">as.numeric(NA)</span></p></li>
</ul></li>
</ul>
</section>
<section id="case_when-en-acción" class="slide level2">
<h2><span class="verde-h3">case_when()</span> en acción</h2>
<div class="panel-tabset">
<ul id="tabset-1" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-1-1">Categorizar variable numérica</a></li><li><a href="#tabset-1-2">Variable según condición compleja</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1">
<ul>
<li>Se quieren crear categorías de edad: “20-30”, “31-35” y “36-41”</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>datos_fase1 <span class="sc">%&gt;%</span> </span>
<span id="cb4-2"><a href="#cb4-2"></a>  <span class="fu">select</span>(id, age) <span class="sc">%&gt;%</span> </span>
<span id="cb4-3"><a href="#cb4-3"></a>  <span class="fu">mutate</span>(<span class="at">agecat =</span> <span class="fu">case_when</span>(age <span class="sc">&gt;=</span> <span class="dv">20</span> <span class="sc">&amp;</span> age <span class="sc">&lt;=</span> <span class="dv">30</span> <span class="sc">~</span> <span class="st">"20-30"</span>, </span>
<span id="cb4-4"><a href="#cb4-4"></a>                            age <span class="sc">&gt;=</span> <span class="dv">31</span> <span class="sc">&amp;</span> age <span class="sc">&lt;=</span> <span class="dv">35</span> <span class="sc">~</span> <span class="st">"31-35"</span>, </span>
<span id="cb4-5"><a href="#cb4-5"></a>                            age <span class="sc">&gt;=</span> <span class="dv">36</span> <span class="sc">&amp;</span> age <span class="sc">&lt;=</span> <span class="dv">41</span> <span class="sc">~</span> <span class="st">"36-41"</span>, </span>
<span id="cb4-6"><a href="#cb4-6"></a>                            <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">as.character</span>(<span class="cn">NA</span>))</span>
<span id="cb4-7"><a href="#cb4-7"></a>         ) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 106 × 3
      id   age agecat
   &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt; 
 1     1    33 31-35 
 2     1    32 31-35 
 3     2    27 20-30 
 4     2    27 20-30 
 5     3    25 20-30 
 6     3    25 20-30 
 7     4    37 36-41 
 8     4    38 36-41 
 9     5    31 31-35 
10     5    32 31-35 
# … with 96 more rows</code></pre>
</div>
</div>
</div>
<div id="tabset-1-2">
<ul>
<li>Se desea crear variable indicadora de inclusión en estudio: Solo pacientes sin pareja y que proceden de Callao, Carabayllo, Chorrillos o SJL son elegibles:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>datos_fase1 <span class="sc">%&gt;%</span> </span>
<span id="cb6-2"><a href="#cb6-2"></a>  <span class="fu">mutate</span>(<span class="at">elegible =</span> <span class="fu">case_when</span>(</span>
<span id="cb6-3"><a href="#cb6-3"></a>    married2 <span class="sc">==</span> <span class="st">"Without couple"</span> <span class="sc">&amp;</span> procedence <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Callao"</span>, <span class="st">"Carabayllo"</span>, <span class="st">"Chorrillos"</span>, <span class="st">"SJL"</span>) <span class="sc">~</span> <span class="st">"Elegible"</span>, </span>
<span id="cb6-4"><a href="#cb6-4"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"No elegible"</span></span>
<span id="cb6-5"><a href="#cb6-5"></a>    )</span>
<span id="cb6-6"><a href="#cb6-6"></a>  ) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 106 × 15
      id time     treat    age race  married marri…¹ proce…² weight height    e2
   &lt;dbl&gt; &lt;fct&gt;    &lt;fct&gt;  &lt;dbl&gt; &lt;chr&gt; &lt;fct&gt;   &lt;fct&gt;   &lt;chr&gt;    &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;
 1     1 Baseline Place…    33 Mest… Single  Withou… Callao    59      1.4  87.3
 2     1 3 months Place…    32 Mest… Single  Withou… Callao    59.9    1.3 210. 
 3     2 Baseline Dosis…    27 Mest… Single  Withou… Santa …   62      1.5 169. 
 4     2 3 months Dosis…    27 Mest… Single  Withou… Santa …   62.1    1.6  99.9
 5     3 Baseline Dosis…    25 Mest… Single  Withou… Callao    62      1.6  78.8
 6     3 3 months Dosis…    25 Mest… Single  Withou… Callao    60      1.6 155. 
 7     4 Baseline Dosis…    37 Mest… Divorc… Withou… Callao    60.9    1.5  41.0
 8     4 3 months Dosis…    38 Mest… Divorc… Withou… Callao    61.4    1.5 109. 
 9     5 Baseline Place…    31 Mest… Single  Withou… La Mol…   64      1.5  43.0
10     5 3 months Place…    32 Mest… Single  Withou… La Mol…   58.1    1.6  56.0
# … with 96 more rows, 4 more variables: lh &lt;dbl&gt;, fsh &lt;dbl&gt;, prog &lt;dbl&gt;,
#   elegible &lt;chr&gt;, and abbreviated variable names ¹​married2, ²​procedence</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="etiquetar-variables-con-set_var_labels" class="slide level2">
<h2>Etiquetar variables con <span class="verde-h3">set_var_labels()</span></h2>
<ul>
<li><p>La función <span class="verde-h3">set_var_labels()</span> del paquete <span class="verde-h3">labelled()</span> es muy útil para etiquetar columnas.</p></li>
<li><p>Los datos deben tener metadatos que permitan ser legibles por el ser humano.</p></li>
<li><p>Primero instalar y cargar paquete:</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="fu">library</span>(labelled)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Es preferible usar esta función al final de todo el proceso de limpieza de datos.</li>
</ul>
<div class="columns">
<div class="column" style="width:40%;">
<p><span class="verde-h3">Larga</span></p>
<div class="sourceCode" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="fu">set_var_labels</span>(<span class="at">.data =</span> DATA, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><span class="verde-h3">Abreviada</span></p>
<div class="sourceCode" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="fu">set_var_labels</span>(DATA, ...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><span class="verde-h3">Se estila usar %&gt;%</span></p>
<div class="sourceCode" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>DATA <span class="sc">%&gt;%</span> </span>
<span id="cb11-2"><a href="#cb11-2"></a>  <span class="fu">set_var_labels</span>(...)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:55%;">
<div class="cell">
<div class="cell-output-display">

<table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;"> Argumento </th>
   <th style="text-align:left;"> Descripción </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> .data </td>
   <td style="text-align:left;"> Data frame o extensión de data frame (por ejemplo, tibble). </td>
  </tr>
  <tr>
   <td style="text-align:left;"> ... </td>
   <td style="text-align:left;"> variable = 'nueva etiqueta' </td>
  </tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
</section>
<section id="set_var_labels-en-acción" class="slide level2">
<h2><span class="verde-h3">set_var_labels()</span> en acción</h2>
<div class="panel-tabset">
<ul id="tabset-2" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-2-1">Sin etiqueta de variable</a></li><li><a href="#tabset-2-2">Con etiqueta de variable</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1">
<ul>
<li><p>¿Qué significan <code>pas</code>, <code>pad</code> y <code>pam</code>?</p></li>
<li><p>Difícil de saber sin una etiqueta</p></li>
</ul>
<div class="cell">
<div class="cell-output-display">
<p><img data-src="img/sin-etiqueta.png" style="width:40.0%"></p>
</div>
</div>
</div>
<div id="tabset-2-2">
<div class="cell">

</div>
<ul>
<li>Usando <span class="verde-h3">set_variable_labels()</span></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a>datos2 <span class="ot">&lt;-</span> datos <span class="sc">%&gt;%</span> </span>
<span id="cb12-2"><a href="#cb12-2"></a>  <span class="fu">set_variable_labels</span>(</span>
<span id="cb12-3"><a href="#cb12-3"></a>    <span class="at">pam =</span> <span class="st">"Presión Arterial Media"</span>, </span>
<span id="cb12-4"><a href="#cb12-4"></a>    <span class="at">pas =</span> <span class="st">"Presión Arterial Sistólica"</span>, </span>
<span id="cb12-5"><a href="#cb12-5"></a>    <span class="at">pad =</span> <span class="st">"Presión Arterial Diastólica"</span></span>
<span id="cb12-6"><a href="#cb12-6"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img data-src="img/con-etiqueta.png" style="width:70.0%"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="nuestro-turno" class="slide level2" data-background-color="#000000">
<h2><svg aria-hidden="true" role="img" viewbox="0 0 640 512" style="height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:white;overflow:visible;position:relative;"><path d="M128 96h384v256h64V80C576 53.63 554.4 32 528 32h-416C85.63 32 64 53.63 64 80V352h64V96zM624 384h-608C7.25 384 0 391.3 0 400V416c0 35.25 28.75 64 64 64h512c35.25 0 64-28.75 64-64v-16C640 391.3 632.8 384 624 384zM365.9 286.2C369.8 290.1 374.9 292 380 292s10.23-1.938 14.14-5.844l48-48c7.812-7.813 7.812-20.5 0-28.31l-48-48c-7.812-7.813-20.47-7.813-28.28 0c-7.812 7.813-7.812 20.5 0 28.31l33.86 33.84l-33.86 33.84C358 265.7 358 278.4 365.9 286.2zM274.1 161.9c-7.812-7.813-20.47-7.813-28.28 0l-48 48c-7.812 7.813-7.812 20.5 0 28.31l48 48C249.8 290.1 254.9 292 260 292s10.23-1.938 14.14-5.844c7.812-7.813 7.812-20.5 0-28.31L240.3 224l33.86-33.84C281.1 182.4 281.1 169.7 274.1 161.9z"></path></svg> Nuestro turno</h2>
<hr>
<p><br>
</p>
<ul>
<li><p>Descargue la carpeta denominada <span class="verde-h3">taller04</span> disponible en la carpeta compartida.</p></li>
<li><p>Abra el proyecto denominado <span class="verde-h3">taller04.Rproj</span></p></li>
<li><p>Complete y ejecute el código faltante en los chunk de código de la PRIMERA PARTE.</p></li>
<li><p>Una vez culmine todo el proceso, renderice el archivo .qmd.</p></li>
</ul>
<p><br>
<br>
&nbsp;</p>
</section>
<section id="hagamos-una-pausa" class="slide level2" data-background-color="#00817E">
<h2><svg aria-hidden="true" role="img" viewbox="0 0 640 512" style="height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:white;overflow:visible;position:relative;"><path d="M512 32H120c-13.25 0-24 10.75-24 24L96.01 288c0 53 43 96 96 96h192C437 384 480 341 480 288h32c70.63 0 128-57.38 128-128S582.6 32 512 32zM512 224h-32V96h32c35.25 0 64 28.75 64 64S547.3 224 512 224zM560 416h-544C7.164 416 0 423.2 0 432C0 458.5 21.49 480 48 480h480c26.51 0 48-21.49 48-48C576 423.2 568.8 416 560 416z"></path></svg> Hagamos una pausa</h2>
<hr>
<div class="r-fit-text">
<center>
<p>Tomemos un descanso de <code>5 minutos</code>…</p>
<p>Estire las piernas <svg aria-hidden="true" role="img" viewbox="0 0 320 512" style="height:1em;width:0.62em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:white;overflow:visible;position:relative;"><path d="M256 48C256 74.51 234.5 96 208 96C181.5 96 160 74.51 160 48C160 21.49 181.5 0 208 0C234.5 0 256 21.49 256 48zM126.5 199.3C125.6 199.7 124.6 200.1 123.7 200.5L112.7 205.4C97.41 212.2 85.42 224.6 79.22 240.1L77.71 243.9C71.15 260.3 52.53 268.3 36.12 261.7C19.71 255.1 11.73 236.5 18.29 220.1L19.8 216.3C32.19 185.4 56.18 160.5 86.66 146.9L97.66 142C118.5 132.8 140.1 128 163.7 128C208.3 128 248.5 154.8 265.6 195.9L280.1 232.7L302.3 243.4C318.1 251.3 324.5 270.5 316.6 286.3C308.7 302.1 289.5 308.5 273.7 300.6L247 287.3C236.7 282.1 228.6 273.4 224.2 262.8L214.6 239.8L195.3 305.3L244.8 359.4C250.2 365.3 254.1 372.4 256 380.2L279 472.2C283.3 489.4 272.9 506.8 255.8 511C238.6 515.3 221.2 504.9 216.1 487.8L194.9 399.6L124.3 322.5C109.5 306.4 103.1 283.9 109.6 262.8L126.5 199.3zM68.73 398L93.69 335.6C95.84 338.6 98.16 341.4 100.7 344.2L141.4 388.6L126.9 424.8C124.5 430.9 120.9 436.4 116.3 440.9L54.63 502.6C42.13 515.1 21.87 515.1 9.372 502.6C-3.124 490.1-3.124 469.9 9.372 457.4L68.73 398z"></path></svg>…</p>
<p>Deje de ver las pantallas <svg aria-hidden="true" role="img" viewbox="0 0 640 512" style="height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:white;overflow:visible;position:relative;"><path d="M128 96h384v256h64v-272c0-26.38-21.62-48-48-48h-416c-26.38 0-48 21.62-48 48V352h64V96zM624 383.1h-608c-8.75 0-16 7.25-16 16v16c0 35.25 28.75 64 64 64h512c35.25 0 64-28.75 64-64v-16C640 391.2 632.8 383.1 624 383.1z"></path></svg>…</p>
<p>… cualquier <svg aria-hidden="true" role="img" viewbox="0 0 640 512" style="height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:white;overflow:visible;position:relative;"><path d="M128 96h384v256h64v-272c0-26.38-21.62-48-48-48h-416c-26.38 0-48 21.62-48 48V352h64V96zM624 383.1h-608c-8.75 0-16 7.25-16 16v16c0 35.25 28.75 64 64 64h512c35.25 0 64-28.75 64-64v-16C640 391.2 632.8 383.1 624 383.1z"></path></svg>, las del celular <svg aria-hidden="true" role="img" viewbox="0 0 384 512" style="height:1em;width:0.75em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:white;overflow:visible;position:relative;"><path d="M320 0H64C37.5 0 16 21.5 16 48v416C16 490.5 37.5 512 64 512h256c26.5 0 48-21.5 48-48v-416C368 21.5 346.5 0 320 0zM240 447.1C240 456.8 232.8 464 224 464H159.1C151.2 464 144 456.8 144 448S151.2 432 160 432h64C232.8 432 240 439.2 240 447.1z"></path></svg> también.</p>
</center>
</div>
<div class="cell">

</div>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_170c3b68" data-update-every="1" data-play-sound="true" tabindex="0" style="right:0;bottom:0;font-size:2em;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">05</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>
</section></section>
<section>
<section class="title-slide slide level1 agenda-slide center">
<h1>AID / AED en R</h1>
<div class="agenda-heading">
<p>Agenda</p>
</div>
<div class="agenda">
<ol>
<li><div class="agenda-inactive agenda-pre-active">
<p>Manejo de datos 2: Categorización y etiquetado de variables</p>
</div></li>
<li><div class="agenda-active">
<p>AID / AED en R</p>
</div></li>
</ol>
</div>
</section>
<section id="section" class="slide level2 scrollable">
<h2></h2>
<blockquote>
<p><strong>Paso 1:</strong> Resumen global de los datos</p>
</blockquote>
<div class="panel-tabset">
<ul id="tabset-3" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-3-1">¿Qué debo inspeccionar de manera global?</a></li><li><a href="#tabset-3-2"><span class="verde-h3">glimpse()</span></a></li><li><a href="#tabset-3-3"><span class="verde-h3">skim()</span></a></li><li><a href="#tabset-3-4"><span class="verde-h3">describe()</span></a></li></ul>
<div class="tab-content">
<div id="tabset-3-1">
<ul>
<li><p>Dimensiones: columnas y filas</p></li>
<li><p>Variables y tipos</p></li>
<li><p>Datos completos y faltantes</p></li>
<li><p>Variables numéricas: Mínimos, máximos y valores extremos</p></li>
<li><p>Variables categóricas: Valores o categorías muy poco frecuentes y datos perdidos encubiertos</p></li>
</ul>
</div>
<div id="tabset-3-2">
<ul>
<li>Heche un vistazo de los datos con <span class="verde-h3">glimpse()</span>:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="fu">glimpse</span>(datos)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 3
Columns: 3
$ pas &lt;dbl&gt; 122.3, 142.1, 100.2
$ pad &lt;dbl&gt; 74, 81, 79
$ pam &lt;dbl&gt; 90.10, 101.37, 86.06</code></pre>
</div>
</div>
</div>
<div id="tabset-3-3">
<ul>
<li>La función <span class="verde-h3">skim()</span> del paquete <span class="verde-h3">{skimr}</span> genera un resumen global de los datos:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="fu">skim</span>(datos)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<table style="width: auto;" class="table table-condensed">
<caption>
Data summary
</caption>
<tbody>
<tr>
<td style="text-align:left;">
Name
</td>
<td style="text-align:left;">
datos
</td>
</tr>
<tr>
<td style="text-align:left;">
Number of rows
</td>
<td style="text-align:left;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
Number of columns
</td>
<td style="text-align:left;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
_______________________
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
Column type frequency:
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
numeric
</td>
<td style="text-align:left;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
________________________
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
Group variables
</td>
<td style="text-align:left;">
None
</td>
</tr>
</tbody>

</table>
<p><strong>Variable type: numeric</strong></p>

<table>
<thead>
<tr>
<th style="text-align:left;">
skim_variable
</th>
<th style="text-align:right;">
n_missing
</th>
<th style="text-align:right;">
complete_rate
</th>
<th style="text-align:right;">
mean
</th>
<th style="text-align:right;">
sd
</th>
<th style="text-align:right;">
p0
</th>
<th style="text-align:right;">
p25
</th>
<th style="text-align:right;">
p50
</th>
<th style="text-align:right;">
p75
</th>
<th style="text-align:right;">
p100
</th>
<th style="text-align:left;">
hist
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
pas
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
121.53
</td>
<td style="text-align:right;">
20.96
</td>
<td style="text-align:right;">
100.20
</td>
<td style="text-align:right;">
111.25
</td>
<td style="text-align:right;">
122.3
</td>
<td style="text-align:right;">
132.20
</td>
<td style="text-align:right;">
142.10
</td>
<td style="text-align:left;">
▇▁▇▁▇
</td>
</tr>
<tr>
<td style="text-align:left;">
pad
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
78.00
</td>
<td style="text-align:right;">
3.61
</td>
<td style="text-align:right;">
74.00
</td>
<td style="text-align:right;">
76.50
</td>
<td style="text-align:right;">
79.0
</td>
<td style="text-align:right;">
80.00
</td>
<td style="text-align:right;">
81.00
</td>
<td style="text-align:left;">
▇▁▁▇▇
</td>
</tr>
<tr>
<td style="text-align:left;">
pam
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
92.51
</td>
<td style="text-align:right;">
7.93
</td>
<td style="text-align:right;">
86.06
</td>
<td style="text-align:right;">
88.08
</td>
<td style="text-align:right;">
90.1
</td>
<td style="text-align:right;">
95.74
</td>
<td style="text-align:right;">
101.37
</td>
<td style="text-align:left;">
▇▇▁▁▇
</td>
</tr>
</tbody>

</table>
</div>
</div>
</div>
<div id="tabset-3-4">
<ul>
<li>La función <span class="verde-h3">describe()</span> del paquete <span class="verde-h3">{Hmisc}</span> genera un reporte general bien detallado, variable por variable:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="fu">describe</span>(datos)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>datos 

 3  Variables      3  Observations
--------------------------------------------------------------------------------
pas 
       n  missing distinct     Info     Mean      Gmd 
       3        0        3        1    121.5    27.93 
                            
Value      100.2 122.3 142.1
Frequency      1     1     1
Proportion 0.333 0.333 0.333
--------------------------------------------------------------------------------
pad 
       n  missing distinct     Info     Mean      Gmd 
       3        0        3        1       78    4.667 
                            
Value         74    79    81
Frequency      1     1     1
Proportion 0.333 0.333 0.333
--------------------------------------------------------------------------------
pam 
       n  missing distinct     Info     Mean      Gmd 
       3        0        3        1    92.51    10.21 
                               
Value       86.06  90.10 101.37
Frequency       1      1      1
Proportion  0.333  0.333  0.333
--------------------------------------------------------------------------------</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="section-1" class="slide level2 scrollable">
<h2></h2>
<blockquote>
<p><strong>Paso 2:</strong> Detecte y maneje duplicados</p>
</blockquote>
<div class="panel-tabset">
<ul id="tabset-4" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-4-1">Filas duplicadas</a></li><li><a href="#tabset-4-2">ID duplicados</a></li><li><a href="#tabset-4-3">Elimine duplicados</a></li><li><a href="#tabset-4-4">Deduplicación probabilística</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1">
<ul>
<li><p>La función <span class="verde-h3">get_dupes()</span> del paquete <span class="verde-h3">{janitor}</span> es útil para esto.</p></li>
<li><p>Si solo colocamos <span class="verde-h3">get_dupes()</span>, entonces nos identifica duplicados de fila completa:</p></li>
</ul>
<div class="cell">

</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a><span class="fu">library</span>(janitor)</span>
<span id="cb18-2"><a href="#cb18-2"></a>datos <span class="sc">%&gt;%</span> </span>
<span id="cb18-3"><a href="#cb18-3"></a>  <span class="fu">get_dupes</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] id_jaula     id_raton     tratamiento  protocolo    peso_inicial
 [6] peso_final   peso_utero   chol         glucose      tag         
[11] prot         urea         album        dupe_count  
&lt;0 rows&gt; (or 0-length row.names)</code></pre>
</div>
</div>
</div>
<div id="tabset-4-2">
<ul>
<li><p>Si colocamos una o más variables dentro de <span class="verde-h3">get_dupes()</span>, entonces nos identifica duplicados solo de esa variable.</p></li>
<li><p>A menudo lo hacemos para encontrar individus duplicados.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a>datos <span class="sc">%&gt;%</span> </span>
<span id="cb20-2"><a href="#cb20-2"></a>  <span class="fu">get_dupes</span>(id_raton)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] id_raton     dupe_count   id_jaula     tratamiento  protocolo   
 [6] peso_inicial peso_final   peso_utero   chol         glucose     
[11] tag          prot         urea         album       
&lt;0 rows&gt; (or 0-length row.names)</code></pre>
</div>
</div>
</div>
<div id="tabset-4-3">
<ul>
<li><p>Si el duplicado es erróneo, lo podemos eliminar con <span class="verde-h3">distinct()</span> y el argumento <span class="verde-h3">.keep_all = TRUE</span>.</p></li>
<li><p>Se debde espeficiar si el duplicado es de fila o de alguna variable (p.&nbsp;ej., id).</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a>datos <span class="ot">&lt;-</span> datos <span class="sc">%&gt;%</span> </span>
<span id="cb22-2"><a href="#cb22-2"></a>  <span class="fu">distinct</span>(id_raton, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>)</span>
<span id="cb22-3"><a href="#cb22-3"></a></span>
<span id="cb22-4"><a href="#cb22-4"></a>datos</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   id_jaula id_raton               tratamiento protocolo peso_inicial
1         1        1                   control       ovx        26.00
2         1        2                   control       ovx        24.50
3         1        3                   control       ovx        20.40
4         2        4                   control   hemiovx        26.59
5         2        5                   control       ovx        23.50
6         2        6                      maca       ovx        25.00
7         2        7                      maca       ovx        24.80
8         3        8                      maca       ovx        23.20
9         3        9                      maca   hemiovx        22.69
10        3       10                      maca       ovx        23.90
11        5       11             maca + critro       ovx        21.90
12        5       12             maca + critro       ovx        23.40
13        5       13             maca + critro       ovx        21.90
14        5       14             maca + critro       ovx        22.40
15        8       15 triple dosis maca + citro       ovx        18.90
16        8       16 triple dosis maca + citro       ovx        23.50
17        9       17 triple dosis maca + citro       ovx        24.50
18        9       18 triple dosis maca + citro       ovx        25.30
19        9       19 triple dosis maca + citro       ovx        27.90
20        9       20             sham operated    no ovx        25.50
21       10       21             sham operated    no ovx        23.40
22       10       22             sham operated    no ovx        22.50
23       10       23             sham operated    no ovx        22.90
   peso_final peso_utero    chol glucose    tag prot   urea album
1       33.28      0.089  85.990  109.97 182.42 5.37  66.27 66.82
2       30.50      0.063  94.460   81.62 211.87 4.68  76.73 55.36
3       29.93      0.078  99.670  118.37 195.16   NA  52.32    NA
4       32.19      0.134  83.380   71.91  98.46   NA  50.71    NA
5       30.37      0.052  82.080   95.53 108.13 5.33  26.02    NA
6       30.43      0.055 107.490  160.36 141.10   NA     NA 72.14
7       28.77      0.064  76.870  195.53  95.82 5.02  40.78 67.09
8       27.30      0.062  95.760  182.41 105.49 6.12  66.94 70.64
9       26.86      0.070  85.340  184.51  90.99   NA     NA 66.27
10      29.10      0.113  82.080  168.50 143.30 4.85  34.48 83.73
11      24.93      0.108  80.781  113.38 128.35   NA     NA    NA
12      26.70      0.022  88.590  102.62 282.64   NA     NA    NA
13      28.67      0.014 104.880   60.10 200.00 5.33  37.96    NA
14      28.37      0.046  70.350  150.13 199.12 4.93  45.61 64.64
15      23.80      0.057  78.170  110.50 114.73 4.78  38.23 52.77
16      26.70      0.065  85.340  144.88 134.51 5.15  43.06 59.59
17      28.77      0.016  64.400  138.85 160.44   NA     NA    NA
18      29.20      0.068  67.100  140.68 127.03   NA     NA    NA
19      29.48      0.076  65.790  114.70 169.67 6.17     NA    NA
20      30.27      0.088  74.260   94.23 185.05 4.93     NA 68.59
21      27.90      0.535  59.280  126.77 244.84   NA  60.37    NA
22      26.68      0.081  68.400   78.22  93.19   NA 157.89    NA
23      27.43      0.176  84.690  125.20 108.13   NA     NA    NA</code></pre>
</div>
</div>
</div>
<div id="tabset-4-4">
<ul>
<li><p>¿Qué pasa si no se sabe si el duplicado es erróneo?</p>
<ul>
<li><p>Podemos tener dos o más filas con duplicados y no saber cuál es el correcto.</p></li>
<li><p>En estos casos, el problema es complejo. Una solución puede ser la deduplicación probabilística.</p></li>
</ul></li>
</ul>
</div>
</div>
</div>
</section>
<section id="section-2" class="slide level2 scrollable">
<h2></h2>
<blockquote>
<p><strong>Paso 3:</strong> Identifique datos faltantes</p>
</blockquote>
<ul>
<li><p>Evalúe número y porcentaje de datos perdidos así como el patrón de estos.</p></li>
<li><p>Hay varios paquetes que permiten manejar datos perdidos:</p>
<ul>
<li><span class="verde-h3">{VIM}</span></li>
<li><span class="verde-h3">{visdat}</span></li>
<li><span class="verde-h3">{naniar}</span></li>
<li><span class="verde-h3">{otros}</span></li>
</ul></li>
<li><p>Usaremos algunas funciones de <span class="verde-h3">{visdat}</span>, <span class="verde-h3">{VIM}</span>y <span class="verde-h3">{naniar}</span>.</p></li>
<li><p><span class="verde-h3">{visdat}</span>y <span class="verde-h3">{nanair}</span>generan gráficos <span class="verde-h3">{ggplot2}</span>, mientras que <span class="verde-h3">{VIM}</span> no lo hace.</p></li>
</ul>
</section>
<section id="section-3" class="slide level2 scrollable">
<h2></h2>
<blockquote>
<p><strong>Paso 3:</strong> Identifique datos faltantes (cont.)</p>
</blockquote>
<div class="panel-tabset">
<ul id="tabset-5" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-5-1"><span class="verde-h3">skim()</span></a></li><li><a href="#tabset-5-2">Visualizar tipos de datos</a></li><li><a href="#tabset-5-3">Visualizar % de datos faltantes</a></li></ul>
<div class="tab-content">
<div id="tabset-5-1">
<ul>
<li>Nuevamente <span class="verde-h3">skim()</span> nos permite conocer, rápidamente, el número de datos perdidos.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a><span class="fu">skim</span>(datos)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<table style="width: auto;" class="table table-condensed">
<caption>
Data summary
</caption>
<tbody>
<tr>
<td style="text-align:left;">
Name
</td>
<td style="text-align:left;">
datos
</td>
</tr>
<tr>
<td style="text-align:left;">
Number of rows
</td>
<td style="text-align:left;">
23
</td>
</tr>
<tr>
<td style="text-align:left;">
Number of columns
</td>
<td style="text-align:left;">
13
</td>
</tr>
<tr>
<td style="text-align:left;">
_______________________
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
Column type frequency:
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
character
</td>
<td style="text-align:left;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
numeric
</td>
<td style="text-align:left;">
11
</td>
</tr>
<tr>
<td style="text-align:left;">
________________________
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
Group variables
</td>
<td style="text-align:left;">
None
</td>
</tr>
</tbody>

</table>
<p><strong>Variable type: character</strong></p>

<table>
<thead>
<tr>
<th style="text-align:left;">
skim_variable
</th>
<th style="text-align:right;">
n_missing
</th>
<th style="text-align:right;">
complete_rate
</th>
<th style="text-align:right;">
min
</th>
<th style="text-align:right;">
max
</th>
<th style="text-align:right;">
empty
</th>
<th style="text-align:right;">
n_unique
</th>
<th style="text-align:right;">
whitespace
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
tratamiento
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
25
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
protocolo
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>

</table>
<p><strong>Variable type: numeric</strong></p>

<table>
<thead>
<tr>
<th style="text-align:left;">
skim_variable
</th>
<th style="text-align:right;">
n_missing
</th>
<th style="text-align:right;">
complete_rate
</th>
<th style="text-align:right;">
mean
</th>
<th style="text-align:right;">
sd
</th>
<th style="text-align:right;">
p0
</th>
<th style="text-align:right;">
p25
</th>
<th style="text-align:right;">
p50
</th>
<th style="text-align:right;">
p75
</th>
<th style="text-align:right;">
p100
</th>
<th style="text-align:left;">
hist
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
id_jaula
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
5.30
</td>
<td style="text-align:right;">
3.38
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
2.00
</td>
<td style="text-align:right;">
5.00
</td>
<td style="text-align:right;">
9.00
</td>
<td style="text-align:right;">
10.00
</td>
<td style="text-align:left;">
▇▃▅▂▇
</td>
</tr>
<tr>
<td style="text-align:left;">
id_raton
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
12.00
</td>
<td style="text-align:right;">
6.78
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
6.50
</td>
<td style="text-align:right;">
12.00
</td>
<td style="text-align:right;">
17.50
</td>
<td style="text-align:right;">
23.00
</td>
<td style="text-align:left;">
▇▆▇▆▇
</td>
</tr>
<tr>
<td style="text-align:left;">
peso_inicial
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
23.68
</td>
<td style="text-align:right;">
1.99
</td>
<td style="text-align:right;">
18.90
</td>
<td style="text-align:right;">
22.59
</td>
<td style="text-align:right;">
23.50
</td>
<td style="text-align:right;">
24.90
</td>
<td style="text-align:right;">
27.90
</td>
<td style="text-align:left;">
▂▃▇▇▂
</td>
</tr>
<tr>
<td style="text-align:left;">
peso_final
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
28.59
</td>
<td style="text-align:right;">
2.18
</td>
<td style="text-align:right;">
23.80
</td>
<td style="text-align:right;">
27.08
</td>
<td style="text-align:right;">
28.77
</td>
<td style="text-align:right;">
30.10
</td>
<td style="text-align:right;">
33.28
</td>
<td style="text-align:left;">
▂▆▇▅▂
</td>
</tr>
<tr>
<td style="text-align:left;">
peso_utero
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
0.09
</td>
<td style="text-align:right;">
0.10
</td>
<td style="text-align:right;">
0.01
</td>
<td style="text-align:right;">
0.06
</td>
<td style="text-align:right;">
0.07
</td>
<td style="text-align:right;">
0.09
</td>
<td style="text-align:right;">
0.54
</td>
<td style="text-align:left;">
▇▁▁▁▁
</td>
</tr>
<tr>
<td style="text-align:left;">
chol
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
81.96
</td>
<td style="text-align:right;">
12.89
</td>
<td style="text-align:right;">
59.28
</td>
<td style="text-align:right;">
72.31
</td>
<td style="text-align:right;">
82.08
</td>
<td style="text-align:right;">
87.29
</td>
<td style="text-align:right;">
107.49
</td>
<td style="text-align:left;">
▅▃▇▃▃
</td>
</tr>
<tr>
<td style="text-align:left;">
glucose
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
124.74
</td>
<td style="text-align:right;">
37.27
</td>
<td style="text-align:right;">
60.10
</td>
<td style="text-align:right;">
99.08
</td>
<td style="text-align:right;">
118.37
</td>
<td style="text-align:right;">
147.50
</td>
<td style="text-align:right;">
195.53
</td>
<td style="text-align:left;">
▅▇▇▃▅
</td>
</tr>
<tr>
<td style="text-align:left;">
tag
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
153.06
</td>
<td style="text-align:right;">
52.36
</td>
<td style="text-align:right;">
90.99
</td>
<td style="text-align:right;">
108.13
</td>
<td style="text-align:right;">
141.10
</td>
<td style="text-align:right;">
190.11
</td>
<td style="text-align:right;">
282.64
</td>
<td style="text-align:left;">
▇▃▅▁▂
</td>
</tr>
<tr>
<td style="text-align:left;">
prot
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
0.52
</td>
<td style="text-align:right;">
5.22
</td>
<td style="text-align:right;">
0.49
</td>
<td style="text-align:right;">
4.68
</td>
<td style="text-align:right;">
4.91
</td>
<td style="text-align:right;">
5.08
</td>
<td style="text-align:right;">
5.34
</td>
<td style="text-align:right;">
6.17
</td>
<td style="text-align:left;">
▇▃▅▁▃
</td>
</tr>
<tr>
<td style="text-align:left;">
urea
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
0.61
</td>
<td style="text-align:right;">
56.95
</td>
<td style="text-align:right;">
32.34
</td>
<td style="text-align:right;">
26.02
</td>
<td style="text-align:right;">
38.87
</td>
<td style="text-align:right;">
48.16
</td>
<td style="text-align:right;">
64.80
</td>
<td style="text-align:right;">
157.89
</td>
<td style="text-align:left;">
▇▃▁▁▁
</td>
</tr>
<tr>
<td style="text-align:left;">
album
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
0.48
</td>
<td style="text-align:right;">
66.15
</td>
<td style="text-align:right;">
8.44
</td>
<td style="text-align:right;">
52.77
</td>
<td style="text-align:right;">
62.12
</td>
<td style="text-align:right;">
66.82
</td>
<td style="text-align:right;">
69.62
</td>
<td style="text-align:right;">
83.73
</td>
<td style="text-align:left;">
▃▃▇▂▂
</td>
</tr>
</tbody>

</table>
</div>
</div>
</div>
<div id="tabset-5-2">
<ul>
<li>El paquete <span class="verde-h3">{visdat}</span> te permite visualizar el tipo de dato y si hay o no presencia de datos perdidos</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a><span class="fu">library</span>(visdat)</span>
<span id="cb25-2"><a href="#cb25-2"></a>datos <span class="sc">%&gt;%</span> </span>
<span id="cb25-3"><a href="#cb25-3"></a>  <span class="fu">vis_dat</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="sesion04_chalkboard_files/figure-revealjs/unnamed-chunk-20-1.png" style="width:90.0%"></p>
</figure>
</div>
</div>
</div>
<ul>
<li><p>Es importante verificar si el tipo de dato corresponde con la naturaleza de la variable de estudio.</p></li>
<li><p>Algunos datos faltantes pueden no verse por no configurar apropiadamente el tipo de la variable.</p></li>
</ul>
</div>
<div id="tabset-5-3">
<ul>
<li>Podemos también generar gráficos para identificar los datos perdidos y sus combinaciones:</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a>datos <span class="sc">%&gt;%</span> </span>
<span id="cb26-2"><a href="#cb26-2"></a>  <span class="fu">vis_miss</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="sesion04_chalkboard_files/figure-revealjs/unnamed-chunk-21-1.png" style="width:90.0%"></p>
</figure>
</div>
</div>
</div>
<ul>
<li><p>Se aprecia que la variable <code>prot</code> tiene 47.83% de sus datos faltantes. La variable <code>urea</code> tiene 39.13% de sus datos faltantes.</p></li>
<li><p>La legenda que dice <code>Missing (10.7%)</code> indica que el total de datos faltantes en las celdas (no en las filas) es de 10.7%.</p></li>
<li><p>¿Cuántos datos faltantes en por fila tendremos? ¿Qué combinaciones de datos faltantes tendremos?</p></li>
</ul>
</div>
</div>
</div>
</section>
<section id="section-4" class="slide level2 scrollable">
<h2></h2>
<blockquote>
<p><strong>Paso 3:</strong> Identifique datos faltantes (cont.)</p>
</blockquote>
<div class="panel-tabset">
<ul id="tabset-6" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-6-1">Combinaciones de datos faltantes</a></li><li><a href="#tabset-6-2">Recuperar datos faltantes</a></li><li><a href="#tabset-6-3">Datos perdidos ocultos</a></li></ul>
<div class="tab-content">
<div id="tabset-6-1">
<ul>
<li><p>El paquete <span class="verde-h3">{VIM}</span> permite identificar datos perdidos por variable y sus combinaciones.</p></li>
<li><p>Podemos visualizar los resultados directamente con la función <span class="verde-h3">aggr()</span>:</p></li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a><span class="fu">library</span>(VIM)</span>
<span id="cb27-2"><a href="#cb27-2"></a>datos <span class="sc">%&gt;%</span> </span>
<span id="cb27-3"><a href="#cb27-3"></a>  <span class="fu">aggr</span>(<span class="at">numbers =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="sesion04_chalkboard_files/figure-revealjs/unnamed-chunk-22-1.png" style="width:90.0%"></p>
</figure>
</div>
</div>
</div>
<ul>
<li>También podemos usar la función <span class="verde-h3">gg_miss_upset</span> del paquete <span class="verde-h3">{naniar}</span> para evaluar las combinaciones de datos perdidos:</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a><span class="fu">library</span>(naniar)</span>
<span id="cb28-2"><a href="#cb28-2"></a>datos <span class="sc">%&gt;%</span> </span>
<span id="cb28-3"><a href="#cb28-3"></a>  <span class="fu">gg_miss_upset</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="sesion04_chalkboard_files/figure-revealjs/unnamed-chunk-23-1.png" style="width:90.0%"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-6-2">
<ul>
<li><p>Lo primero que uno debe tratar de hacer es recuperar los datos faltantes.</p>
<ul>
<li><p>Volver a revisar documentos fuentes.</p></li>
<li><p>Recontactar sujetos, etc.</p></li>
</ul></li>
<li><p>Podemos identificar a los individuos con datos faltantes en la variable urea usando <span class="verde-h3">filter()</span>:</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a>datos <span class="sc">%&gt;%</span> </span>
<span id="cb29-2"><a href="#cb29-2"></a>  <span class="fu">select</span>(id_jaula, id_raton, urea) <span class="sc">%&gt;%</span> </span>
<span id="cb29-3"><a href="#cb29-3"></a>  <span class="fu">filter</span>(<span class="fu">is.na</span>(urea))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  id_jaula id_raton urea
1        2        6   NA
2        3        9   NA
3        5       11   NA
4        5       12   NA
5        9       17   NA
6        9       18   NA
7        9       19   NA
8        9       20   NA
9       10       23   NA</code></pre>
</div>
</div>
<ul>
<li><p>Si se recupera la información, uno puede remplazar los valores usando código en R.</p></li>
<li><p>La función <span class="verde-h3">replace()</span>del paquete <span class="verde-h3">{dplyr}</span> es útil para esto. Supongamos que el dato perdido para el ratón 6 es de 65.2, podemos rempalzar el dato usando <span class="verde-h3">replace()</span></p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a>datos <span class="sc">%&gt;%</span> </span>
<span id="cb31-2"><a href="#cb31-2"></a>  <span class="fu">select</span>(id_jaula, id_raton, urea) <span class="sc">%&gt;%</span> </span>
<span id="cb31-3"><a href="#cb31-3"></a>  <span class="fu">mutate</span>(</span>
<span id="cb31-4"><a href="#cb31-4"></a>    <span class="at">urea =</span> <span class="fu">replace</span>(urea, id_raton <span class="sc">==</span> <span class="dv">6</span>, <span class="fl">65.2</span>)</span>
<span id="cb31-5"><a href="#cb31-5"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   id_jaula id_raton   urea
1         1        1  66.27
2         1        2  76.73
3         1        3  52.32
4         2        4  50.71
5         2        5  26.02
6         2        6  65.20
7         2        7  40.78
8         3        8  66.94
9         3        9     NA
10        3       10  34.48
11        5       11     NA
12        5       12     NA
13        5       13  37.96
14        5       14  45.61
15        8       15  38.23
16        8       16  43.06
17        9       17     NA
18        9       18     NA
19        9       19     NA
20        9       20     NA
21       10       21  60.37
22       10       22 157.89
23       10       23     NA</code></pre>
</div>
</div>
</div>
<div id="tabset-6-3">
<ul>
<li><p>Los datos perdidos a veces se guardan por defecto con algunos caracteres especiales.</p></li>
<li><p>Pueden ser problemáticas si se guardan con categorías como: -99, 8888, “No aplica”, “No sabe”, etc.</p></li>
<li><p>Una función muy útil para lidiar con estos datos y convertirlos en <code>NA</code> es la función <span class="verde-h3">replace_na()</span>del paquete <span class="verde-h3">{tidyr}</span></p></li>
</ul>
<div class="cell">

</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb33-2"><a href="#cb33-2"></a>datos_perdidos_comun</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   edad diabetes
1    45       Sí
2    23       Sí
3    34       No
4    29      N/A
5  -999       No
6    23       Sí
7    34       No
8    57      N/A
9    88      N/A
10 -999      N/A
11 -999       Sí</code></pre>
</div>
</div>
<ul>
<li>Podemos convertir directamente todos estos valores por default a datos perdidos:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a>datos_perdidos_comun <span class="sc">%&gt;%</span> </span>
<span id="cb35-2"><a href="#cb35-2"></a>  <span class="fu">na_if</span>(<span class="fu">list</span>(<span class="at">edad =</span> <span class="sc">-</span><span class="dv">999</span>, <span class="at">diabetes =</span> <span class="st">"N/A"</span>)) <span class="ot">-&gt;</span> datos_perdidos_limpia</span>
<span id="cb35-3"><a href="#cb35-3"></a></span>
<span id="cb35-4"><a href="#cb35-4"></a>datos_perdidos_limpia</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   edad diabetes
1    45       Sí
2    23       Sí
3    34       No
4    29     &lt;NA&gt;
5    NA       No
6    23       Sí
7    34       No
8    57     &lt;NA&gt;
9    88     &lt;NA&gt;
10   NA     &lt;NA&gt;
11   NA       Sí</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="section-5" class="slide level2 scrollable">
<h2></h2>
<blockquote>
<p><strong>Paso 4:</strong> Identifique valores extremos no plausibles</p>
</blockquote>
<div class="panel-tabset">
<ul id="tabset-7" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-7-1"><span class="verde-h3">skim()</span></a></li><li><a href="#tabset-7-2"><span class="verde-h3">describe()</span></a></li><li><a href="#tabset-7-3">Gráficos R base</a></li><li><a href="#tabset-7-4">Datos no plausibles</a></li></ul>
<div class="tab-content">
<div id="tabset-7-1">
<ul>
<li>Revise, variable por variable <code>valores extremos no plausibles</code> o <code>plausibles, pero sospechosamente extremos</code>. El valor mínimo es <code>p0</code> y el valor máximo es <code>p100</code>. Deben ser plausibles.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a><span class="fu">skim</span>(datos)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<table style="width: auto;" class="table table-condensed">
<caption>
Data summary
</caption>
<tbody>
<tr>
<td style="text-align:left;">
Name
</td>
<td style="text-align:left;">
datos
</td>
</tr>
<tr>
<td style="text-align:left;">
Number of rows
</td>
<td style="text-align:left;">
23
</td>
</tr>
<tr>
<td style="text-align:left;">
Number of columns
</td>
<td style="text-align:left;">
13
</td>
</tr>
<tr>
<td style="text-align:left;">
_______________________
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
Column type frequency:
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
character
</td>
<td style="text-align:left;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
numeric
</td>
<td style="text-align:left;">
11
</td>
</tr>
<tr>
<td style="text-align:left;">
________________________
</td>
<td style="text-align:left;">
</td>
</tr>
<tr>
<td style="text-align:left;">
Group variables
</td>
<td style="text-align:left;">
None
</td>
</tr>
</tbody>

</table>
<p><strong>Variable type: character</strong></p>

<table>
<thead>
<tr>
<th style="text-align:left;">
skim_variable
</th>
<th style="text-align:right;">
n_missing
</th>
<th style="text-align:right;">
complete_rate
</th>
<th style="text-align:right;">
min
</th>
<th style="text-align:right;">
max
</th>
<th style="text-align:right;">
empty
</th>
<th style="text-align:right;">
n_unique
</th>
<th style="text-align:right;">
whitespace
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
tratamiento
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
25
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
protocolo
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
0
</td>
</tr>
</tbody>

</table>
<p><strong>Variable type: numeric</strong></p>

<table>
<thead>
<tr>
<th style="text-align:left;">
skim_variable
</th>
<th style="text-align:right;">
n_missing
</th>
<th style="text-align:right;">
complete_rate
</th>
<th style="text-align:right;">
mean
</th>
<th style="text-align:right;">
sd
</th>
<th style="text-align:right;">
p0
</th>
<th style="text-align:right;">
p25
</th>
<th style="text-align:right;">
p50
</th>
<th style="text-align:right;">
p75
</th>
<th style="text-align:right;">
p100
</th>
<th style="text-align:left;">
hist
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
id_jaula
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
5.30
</td>
<td style="text-align:right;">
3.38
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
2.00
</td>
<td style="text-align:right;">
5.00
</td>
<td style="text-align:right;">
9.00
</td>
<td style="text-align:right;">
10.00
</td>
<td style="text-align:left;">
▇▃▅▂▇
</td>
</tr>
<tr>
<td style="text-align:left;">
id_raton
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
12.00
</td>
<td style="text-align:right;">
6.78
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
6.50
</td>
<td style="text-align:right;">
12.00
</td>
<td style="text-align:right;">
17.50
</td>
<td style="text-align:right;">
23.00
</td>
<td style="text-align:left;">
▇▆▇▆▇
</td>
</tr>
<tr>
<td style="text-align:left;">
peso_inicial
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
23.68
</td>
<td style="text-align:right;">
1.99
</td>
<td style="text-align:right;">
18.90
</td>
<td style="text-align:right;">
22.59
</td>
<td style="text-align:right;">
23.50
</td>
<td style="text-align:right;">
24.90
</td>
<td style="text-align:right;">
27.90
</td>
<td style="text-align:left;">
▂▃▇▇▂
</td>
</tr>
<tr>
<td style="text-align:left;">
peso_final
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
28.59
</td>
<td style="text-align:right;">
2.18
</td>
<td style="text-align:right;">
23.80
</td>
<td style="text-align:right;">
27.08
</td>
<td style="text-align:right;">
28.77
</td>
<td style="text-align:right;">
30.10
</td>
<td style="text-align:right;">
33.28
</td>
<td style="text-align:left;">
▂▆▇▅▂
</td>
</tr>
<tr>
<td style="text-align:left;">
peso_utero
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
0.09
</td>
<td style="text-align:right;">
0.10
</td>
<td style="text-align:right;">
0.01
</td>
<td style="text-align:right;">
0.06
</td>
<td style="text-align:right;">
0.07
</td>
<td style="text-align:right;">
0.09
</td>
<td style="text-align:right;">
0.54
</td>
<td style="text-align:left;">
▇▁▁▁▁
</td>
</tr>
<tr>
<td style="text-align:left;">
chol
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
81.96
</td>
<td style="text-align:right;">
12.89
</td>
<td style="text-align:right;">
59.28
</td>
<td style="text-align:right;">
72.31
</td>
<td style="text-align:right;">
82.08
</td>
<td style="text-align:right;">
87.29
</td>
<td style="text-align:right;">
107.49
</td>
<td style="text-align:left;">
▅▃▇▃▃
</td>
</tr>
<tr>
<td style="text-align:left;">
glucose
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
124.74
</td>
<td style="text-align:right;">
37.27
</td>
<td style="text-align:right;">
60.10
</td>
<td style="text-align:right;">
99.08
</td>
<td style="text-align:right;">
118.37
</td>
<td style="text-align:right;">
147.50
</td>
<td style="text-align:right;">
195.53
</td>
<td style="text-align:left;">
▅▇▇▃▅
</td>
</tr>
<tr>
<td style="text-align:left;">
tag
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1.00
</td>
<td style="text-align:right;">
153.06
</td>
<td style="text-align:right;">
52.36
</td>
<td style="text-align:right;">
90.99
</td>
<td style="text-align:right;">
108.13
</td>
<td style="text-align:right;">
141.10
</td>
<td style="text-align:right;">
190.11
</td>
<td style="text-align:right;">
282.64
</td>
<td style="text-align:left;">
▇▃▅▁▂
</td>
</tr>
<tr>
<td style="text-align:left;">
prot
</td>
<td style="text-align:right;">
11
</td>
<td style="text-align:right;">
0.52
</td>
<td style="text-align:right;">
5.22
</td>
<td style="text-align:right;">
0.49
</td>
<td style="text-align:right;">
4.68
</td>
<td style="text-align:right;">
4.91
</td>
<td style="text-align:right;">
5.08
</td>
<td style="text-align:right;">
5.34
</td>
<td style="text-align:right;">
6.17
</td>
<td style="text-align:left;">
▇▃▅▁▃
</td>
</tr>
<tr>
<td style="text-align:left;">
urea
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
0.61
</td>
<td style="text-align:right;">
56.95
</td>
<td style="text-align:right;">
32.34
</td>
<td style="text-align:right;">
26.02
</td>
<td style="text-align:right;">
38.87
</td>
<td style="text-align:right;">
48.16
</td>
<td style="text-align:right;">
64.80
</td>
<td style="text-align:right;">
157.89
</td>
<td style="text-align:left;">
▇▃▁▁▁
</td>
</tr>
<tr>
<td style="text-align:left;">
album
</td>
<td style="text-align:right;">
12
</td>
<td style="text-align:right;">
0.48
</td>
<td style="text-align:right;">
66.15
</td>
<td style="text-align:right;">
8.44
</td>
<td style="text-align:right;">
52.77
</td>
<td style="text-align:right;">
62.12
</td>
<td style="text-align:right;">
66.82
</td>
<td style="text-align:right;">
69.62
</td>
<td style="text-align:right;">
83.73
</td>
<td style="text-align:left;">
▃▃▇▂▂
</td>
</tr>
</tbody>

</table>
</div>
</div>
</div>
<div id="tabset-7-2">
<ul>
<li>Permite hacer algo similar</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1"></a><span class="fu">describe</span>(datos)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>datos 

 13  Variables      23  Observations
--------------------------------------------------------------------------------
id_jaula 
       n  missing distinct     Info     Mean      Gmd 
      23        0        7    0.979    5.304    3.881 

lowest :  1  2  3  5  8, highest:  3  5  8  9 10
                                                    
Value          1     2     3     5     8     9    10
Frequency      3     4     3     4     2     4     3
Proportion 0.130 0.174 0.130 0.174 0.087 0.174 0.130
--------------------------------------------------------------------------------
id_raton 
       n  missing distinct     Info     Mean      Gmd      .05      .10 
      23        0       23        1       12        8      2.1      3.2 
     .25      .50      .75      .90      .95 
     6.5     12.0     17.5     20.8     21.9 

lowest :  1  2  3  4  5, highest: 19 20 21 22 23
--------------------------------------------------------------------------------
tratamiento 
       n  missing distinct 
      23        0        5 

lowest : control                   maca                      maca + critro             sham operated             triple dosis maca + citro
highest: control                   maca                      maca + critro             sham operated             triple dosis maca + citro

control (5, 0.217), maca (5, 0.217), maca + critro (4, 0.174), sham operated
(4, 0.174), triple dosis maca + citro (5, 0.217)
--------------------------------------------------------------------------------
protocolo 
       n  missing distinct 
      23        0        3 
                                  
Value      hemiovx  no ovx     ovx
Frequency        2       4      17
Proportion   0.087   0.174   0.739
--------------------------------------------------------------------------------
peso_inicial 
       n  missing distinct     Info     Mean      Gmd      .05      .10 
      23        0       19    0.998    23.68    2.244    20.55    21.90 
     .25      .50      .75      .90      .95 
   22.59    23.50    24.90    25.90    26.53 

lowest : 18.90 20.40 21.90 22.40 22.50, highest: 25.30 25.50 26.00 26.59 27.90
                                                                            
Value      18.90 20.40 21.90 22.40 22.50 22.69 22.90 23.20 23.40 23.50 23.90
Frequency      1     1     2     1     1     1     1     1     2     2     1
Proportion 0.043 0.043 0.087 0.043 0.043 0.043 0.043 0.043 0.087 0.087 0.043
                                                          
Value      24.50 24.80 25.00 25.30 25.50 26.00 26.59 27.90
Frequency      2     1     1     1     1     1     1     1
Proportion 0.087 0.043 0.043 0.043 0.043 0.043 0.043 0.043
--------------------------------------------------------------------------------
peso_final 
       n  missing distinct     Info     Mean      Gmd      .05      .10 
      23        0       21    0.999    28.59    2.483    25.11    26.68 
     .25      .50      .75      .90      .95 
   27.08    28.77    30.10    30.49    32.02 

lowest : 23.80 24.93 26.68 26.70 26.86, highest: 30.37 30.43 30.50 32.19 33.28
--------------------------------------------------------------------------------
peso_utero 
       n  missing distinct     Info     Mean      Gmd      .05      .10 
      23        0       23        1   0.0927  0.07728   0.0166   0.0268 
     .25      .50      .75      .90      .95 
  0.0560   0.0680   0.0885   0.1298   0.1718 

lowest : 0.014 0.016 0.022 0.046 0.052, highest: 0.108 0.113 0.134 0.176 0.535
--------------------------------------------------------------------------------
chol 
       n  missing distinct     Info     Mean      Gmd      .05      .10 
      23        0       21    0.999    81.96     14.9    64.54    66.05 
     .25      .50      .75      .90      .95 
   72.31    82.08    87.29    98.89   104.36 

lowest :  59.28  64.40  65.79  67.10  68.40, highest:  94.46  95.76  99.67 104.88 107.49
--------------------------------------------------------------------------------
glucose 
       n  missing distinct     Info     Mean      Gmd      .05      .10 
      23        0       23        1    124.7    43.44    72.54    78.90 
     .25      .50      .75      .90      .95 
   99.08   118.37   147.50   179.63   184.30 

lowest :  60.10  71.91  78.22  81.62  94.23, highest: 160.36 168.50 182.41 184.51 195.53
--------------------------------------------------------------------------------
tag 
       n  missing distinct     Info     Mean      Gmd      .05      .10 
      23        0       22        1    153.1    59.41    93.45    96.35 
     .25      .50      .75      .90      .95 
  108.13   141.10   190.11   209.50   241.54 

lowest :  90.99  93.19  95.82  98.46 105.49, highest: 199.12 200.00 211.87 244.84 282.64
--------------------------------------------------------------------------------
prot 
       n  missing distinct     Info     Mean      Gmd      .05      .10 
      12       11       10    0.993    5.222   0.5367    4.735    4.787 
     .25      .50      .75      .90      .95 
   4.910    5.085    5.340    6.045    6.143 

lowest : 4.68 4.78 4.85 4.93 5.02, highest: 5.15 5.33 5.37 6.12 6.17
                                                                      
Value       4.68  4.78  4.85  4.93  5.02  5.15  5.33  5.37  6.12  6.17
Frequency      1     1     1     2     1     1     2     1     1     1
Proportion 0.083 0.083 0.083 0.167 0.083 0.083 0.167 0.083 0.083 0.083
--------------------------------------------------------------------------------
urea 
       n  missing distinct     Info     Mean      Gmd      .05      .10 
      14        9       14        1    56.95    30.41    31.52    35.52 
     .25      .50      .75      .90      .95 
   38.87    48.16    64.80    73.79   105.14 

lowest :  26.02  34.48  37.96  38.23  40.78, highest:  60.37  66.27  66.94  76.73 157.89
                                                                         
Value       26.02  34.48  37.96  38.23  40.78  43.06  45.61  50.71  52.32
Frequency       1      1      1      1      1      1      1      1      1
Proportion  0.071  0.071  0.071  0.071  0.071  0.071  0.071  0.071  0.071
                                             
Value       60.37  66.27  66.94  76.73 157.89
Frequency       1      1      1      1      1
Proportion  0.071  0.071  0.071  0.071  0.071
--------------------------------------------------------------------------------
album 
       n  missing distinct     Info     Mean      Gmd      .05      .10 
      11       12       11        1    66.15    9.592    54.06    55.36 
     .25      .50      .75      .90      .95 
   62.12    66.82    69.62    72.14    77.94 

lowest : 52.77 55.36 59.59 64.64 66.27, highest: 67.09 68.59 70.64 72.14 83.73
                                                                            
Value      52.77 55.36 59.59 64.64 66.27 66.82 67.09 68.59 70.64 72.14 83.73
Frequency      1     1     1     1     1     1     1     1     1     1     1
Proportion 0.091 0.091 0.091 0.091 0.091 0.091 0.091 0.091 0.091 0.091 0.091
--------------------------------------------------------------------------------</code></pre>
</div>
</div>
</div>
<div id="tabset-7-3">
<ul>
<li><p>El <code>gráfico de cajas</code> nos muestra la disrtibución de la variable numérica en termino de sus cuantiles.</p></li>
<li><p>Los <code>puntos aislados</code>, fuera de las cajas y bigotes, son considerados valores extremos.</p></li>
<li><p>Estos pueden ser <code>plausibles</code> o <code>no plausibles</code>.</p></li>
<li><p>El gráfico de cajas permite <code>identificar</code>, rápidamente, <code>valores extremos</code> potencialmente <code>no plausibles</code> o <code>problemáticos</code>.</p></li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1"></a><span class="fu">boxplot</span>(datos<span class="sc">$</span>peso_final)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="sesion04_chalkboard_files/figure-revealjs/unnamed-chunk-31-1.png" width="960"></p>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a><span class="fu">boxplot</span>(datos<span class="sc">$</span>peso_utero)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="sesion04_chalkboard_files/figure-revealjs/unnamed-chunk-32-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</div>
<div id="tabset-7-4">
<ul>
<li><p>Los datos extremos pueden ser valores anómalos válidos.</p></li>
<li><p>En ocasiones, son valores no plausibles, inválidos, producto del mal recojo de información.</p></li>
<li><p>Cuando se tenga valores extremos no plausibles se puede optar por dos acciones:</p>
<ul>
<li><ol type="1">
<li>Corregir el valor extremo no plausible por datos que sí sean plausibles.</li>
</ol></li>
<li><ol start="2" type="1">
<li>Si no se puede, convertir los valores extremos no plausibles en datos faltantes (veremos esto).</li>
</ol></li>
<li><ol start="3" type="1">
<li>Bonus: A veces puede ser mejor recortar los datos y quedarse con el 1% y 99% percentil más bajo y alto, respectivamente.</li>
</ol></li>
</ul></li>
</ul>
</div>
</div>
</div>
</section>
<section id="section-6" class="slide level2 scrollable">
<h2></h2>
<blockquote>
<p><strong>Paso 4:</strong> Identifique valores extremos no plausibles</p>
</blockquote>
<div class="panel-tabset">
<ul id="tabset-8" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-8-1">Corregir valor extremo no plausible</a></li><li><a href="#tabset-8-2">Convertir valor extremo no plausible a faltante</a></li></ul>
<div class="tab-content">
<div id="tabset-8-1">
<ul>
<li>Se puede usar la función: <span class="verde-h3">na_if()</span> del paquete <span class="verde-h3">{dplyr}</span>.</li>
</ul>
<div class="cell">

</div>
<ul>
<li><p>Veamos una base de datos juguete con datos de peso (kg) y hemoglobina (mg/dL) de pacientes en un estudio:</p>
<ul>
<li><p>El peso de 1450 es un valor extremo no plausible. Igualmente, los valores de hemoglobina 213, 3124 y -4 son valores extremos no plausibles.</p></li>
<li><p>Lo primero que debemos hacer es recuperar es tratar de recuperar estos valores.</p></li>
<li><p>Supongamos que podemos recuperar los valores: 1450 en realidad es 45 kg; 213, 3124 y -4 son 11.3, 10.44 y 9.2 mg/dL.</p></li>
</ul></li>
<li><p>Podemos usar la función recode para corregir los valores de peso:</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1"></a>datos_extremo <span class="sc">%&gt;%</span> </span>
<span id="cb42-2"><a href="#cb42-2"></a>  <span class="fu">mutate</span>(<span class="at">peso =</span> <span class="fu">recode</span>(peso, <span class="st">`</span><span class="at">1450</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">45</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  peso   hb
1   56   12
2   34   11
3   23  213
4   78   10
5   46 3124
6   45   -4</code></pre>
</div>
</div>
<ul>
<li>También podemos corregir de varias variables simultáneamente:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1"></a>datos_extremo <span class="sc">%&gt;%</span> </span>
<span id="cb44-2"><a href="#cb44-2"></a>  <span class="fu">mutate</span>(</span>
<span id="cb44-3"><a href="#cb44-3"></a>    <span class="at">peso =</span> <span class="fu">recode</span>(peso, <span class="st">`</span><span class="at">1450</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">45</span>), </span>
<span id="cb44-4"><a href="#cb44-4"></a>    <span class="at">hb =</span> <span class="fu">recode</span>(hb, <span class="st">`</span><span class="at">213</span><span class="st">`</span> <span class="ot">=</span> <span class="fl">11.3</span>, <span class="st">`</span><span class="at">3124</span><span class="st">`</span> <span class="ot">=</span> <span class="fl">10.44</span>, <span class="st">`</span><span class="at">-4</span><span class="st">`</span> <span class="ot">=</span> <span class="fl">9.2</span>)</span>
<span id="cb44-5"><a href="#cb44-5"></a>    ) <span class="ot">-&gt;</span> datos_extremo_recodif</span>
<span id="cb44-6"><a href="#cb44-6"></a></span>
<span id="cb44-7"><a href="#cb44-7"></a>datos_extremo_recodif</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  peso    hb
1   56 12.00
2   34 11.00
3   23 11.30
4   78 10.00
5   46 10.44
6   45  9.20</code></pre>
</div>
</div>
</div>
<div id="tabset-8-2">
<ul>
<li>Si no podemos recuperar los datos correctos, la otra opción es convertir los valores extremos en datos faltantes:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1"></a>datos_extremo <span class="sc">%&gt;%</span> </span>
<span id="cb46-2"><a href="#cb46-2"></a>  <span class="fu">mutate</span>(</span>
<span id="cb46-3"><a href="#cb46-3"></a>    <span class="at">peso =</span> <span class="fu">na_if</span>(peso, <span class="dv">1450</span>)</span>
<span id="cb46-4"><a href="#cb46-4"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  peso   hb
1   56   12
2   34   11
3   23  213
4   78   10
5   46 3124
6   NA   -4</code></pre>
</div>
</div>
<ul>
<li>Podemos hacerlo de manera simultánea para varias variables</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1"></a>datos_extremo <span class="sc">%&gt;%</span> </span>
<span id="cb48-2"><a href="#cb48-2"></a>  <span class="fu">mutate</span>(</span>
<span id="cb48-3"><a href="#cb48-3"></a>    <span class="at">peso =</span> <span class="fu">na_if</span>(peso, <span class="dv">1450</span>), </span>
<span id="cb48-4"><a href="#cb48-4"></a>    <span class="at">hb =</span> <span class="fu">na_if</span>(hb, <span class="dv">213</span>), </span>
<span id="cb48-5"><a href="#cb48-5"></a>    <span class="at">hb =</span> <span class="fu">na_if</span>(hb, <span class="dv">3124</span>), </span>
<span id="cb48-6"><a href="#cb48-6"></a>    <span class="at">hb =</span> <span class="fu">na_if</span>(hb, <span class="sc">-</span><span class="dv">4</span>)</span>
<span id="cb48-7"><a href="#cb48-7"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  peso hb
1   56 12
2   34 11
3   23 NA
4   78 10
5   46 NA
6   NA NA</code></pre>
</div>
</div>
<ul>
<li>O usando <span class="verde-h3">replace()</span> y una condición lógica:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1"></a>datos_extremo <span class="sc">%&gt;%</span> </span>
<span id="cb50-2"><a href="#cb50-2"></a>  <span class="fu">mutate</span>(</span>
<span id="cb50-3"><a href="#cb50-3"></a>    <span class="at">peso =</span> <span class="fu">na_if</span>(peso, <span class="dv">1450</span>), </span>
<span id="cb50-4"><a href="#cb50-4"></a>    <span class="at">hb =</span> <span class="fu">replace</span>(hb, hb <span class="sc">&gt;</span> <span class="dv">100</span> <span class="sc">|</span> hb <span class="sc">&lt;</span> <span class="dv">0</span>, <span class="cn">NA</span>)</span>
<span id="cb50-5"><a href="#cb50-5"></a>  ) <span class="ot">-&gt;</span> datos_extremo_recomiss</span>
<span id="cb50-6"><a href="#cb50-6"></a></span>
<span id="cb50-7"><a href="#cb50-7"></a>datos_extremo_recomiss</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  peso hb
1   56 12
2   34 11
3   23 NA
4   78 10
5   46 NA
6   NA NA</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="section-7" class="slide level2 scrollable">
<h2></h2>
<blockquote>
<p><strong>Paso 5:</strong> Detecte y corrija inconsistencias mediante consultas (<em>queries</em>) de interés</p>
</blockquote>
<div class="panel-tabset">
<ul id="tabset-9" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-9-1">Consulta 1</a></li><li><a href="#tabset-9-2">Consulta 2</a></li><li><a href="#tabset-9-3">Consulta 3</a></li><li><a href="#tabset-9-4">Consulta 4</a></li></ul>
<div class="tab-content">
<div id="tabset-9-1">
<p>Muestre el peso inicial mínimo, máximo y promedio del grupo control:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52" data-code-line-numbers="|2|3-7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1"></a>datos <span class="sc">%&gt;%</span> </span>
<span id="cb52-2"><a href="#cb52-2"></a>  <span class="fu">filter</span>(tratamiento <span class="sc">==</span> <span class="st">"control"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb52-3"><a href="#cb52-3"></a>  <span class="fu">summarise</span>(</span>
<span id="cb52-4"><a href="#cb52-4"></a>    <span class="at">minimo_peso =</span> <span class="fu">min</span>(peso_inicial), </span>
<span id="cb52-5"><a href="#cb52-5"></a>    <span class="at">maximo_peso =</span> <span class="fu">max</span>(peso_inicial), </span>
<span id="cb52-6"><a href="#cb52-6"></a>    <span class="at">promedio_peso =</span> <span class="fu">mean</span>(peso_inicial)</span>
<span id="cb52-7"><a href="#cb52-7"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  minimo_peso maximo_peso promedio_peso
1        20.4       26.59        24.198</code></pre>
</div>
</div>
</div>
<div id="tabset-9-2">
<p>Muestre los pesos inicial máximos, mínimo y promedio según grupo de tratamiento. También muestre el número de ratones por grupo:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54" data-code-line-numbers="|2|3-7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1"></a>datos <span class="sc">%&gt;%</span> </span>
<span id="cb54-2"><a href="#cb54-2"></a>  <span class="fu">group_by</span>(tratamiento) <span class="sc">%&gt;%</span> </span>
<span id="cb54-3"><a href="#cb54-3"></a>  <span class="fu">summarise</span>(</span>
<span id="cb54-4"><a href="#cb54-4"></a>    <span class="at">minimo_peso =</span> <span class="fu">min</span>(peso_inicial), </span>
<span id="cb54-5"><a href="#cb54-5"></a>    <span class="at">maximo_peso =</span> <span class="fu">max</span>(peso_inicial), </span>
<span id="cb54-6"><a href="#cb54-6"></a>    <span class="at">promedio_peso =</span> <span class="fu">mean</span>(peso_inicial), </span>
<span id="cb54-7"><a href="#cb54-7"></a>    <span class="at">n_ratones =</span> <span class="fu">n</span>()</span>
<span id="cb54-8"><a href="#cb54-8"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 × 5
  tratamiento               minimo_peso maximo_peso promedio_peso n_ratones
  &lt;chr&gt;                           &lt;dbl&gt;       &lt;dbl&gt;         &lt;dbl&gt;     &lt;int&gt;
1 control                          20.4        26.6          24.2         5
2 maca                             22.7        25            23.9         5
3 maca + critro                    21.9        23.4          22.4         4
4 sham operated                    22.5        25.5          23.6         4
5 triple dosis maca + citro        18.9        27.9          24.0         5</code></pre>
</div>
</div>
</div>
<div id="tabset-9-3">
<p>Muestre los id_jaula con el número de ratones por jaula</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56" data-code-line-numbers="|2|3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1"></a>datos <span class="sc">%&gt;%</span> </span>
<span id="cb56-2"><a href="#cb56-2"></a>  <span class="fu">group_by</span>(id_jaula) <span class="sc">%&gt;%</span> </span>
<span id="cb56-3"><a href="#cb56-3"></a>  <span class="fu">summarise</span>(<span class="at">n_ratones_por_jaula =</span> <span class="fu">n</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 2
  id_jaula n_ratones_por_jaula
     &lt;int&gt;               &lt;int&gt;
1        1                   3
2        2                   4
3        3                   3
4        5                   4
5        8                   2
6        9                   4
7       10                   3</code></pre>
</div>
</div>
</div>
<div id="tabset-9-4">
<p>Identifique los ID de los ratones del grupo control con una razón glucosa / colesterol &gt; 1</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb58" data-code-line-numbers="|2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1"></a>datos <span class="sc">%&gt;%</span> </span>
<span id="cb58-2"><a href="#cb58-2"></a>  <span class="fu">filter</span>(tratamiento <span class="sc">==</span> <span class="st">"control"</span> <span class="sc">&amp;</span> glucose <span class="sc">/</span> chol <span class="sc">&gt;</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  id_jaula id_raton tratamiento protocolo peso_inicial peso_final peso_utero
1        1        1     control       ovx         26.0      33.28      0.089
2        1        3     control       ovx         20.4      29.93      0.078
3        2        5     control       ovx         23.5      30.37      0.052
   chol glucose    tag prot  urea album
1 85.99  109.97 182.42 5.37 66.27 66.82
2 99.67  118.37 195.16   NA 52.32    NA
3 82.08   95.53 108.13 5.33 26.02    NA</code></pre>
</div>
</div>
<p>Otra forma de hacerlo, es crear primerio la razón glucose / chol y filtrar:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb60" data-code-line-numbers="|2|3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1"></a>datos <span class="sc">%&gt;%</span> </span>
<span id="cb60-2"><a href="#cb60-2"></a>  <span class="fu">mutate</span>(<span class="at">ratio_gluc_chol =</span> glucose <span class="sc">/</span> chol) <span class="sc">%&gt;%</span> </span>
<span id="cb60-3"><a href="#cb60-3"></a>  <span class="fu">filter</span>(tratamiento <span class="sc">==</span> <span class="st">"control"</span> <span class="sc">&amp;</span> ratio_gluc_chol <span class="sc">&gt;</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  id_jaula id_raton tratamiento protocolo peso_inicial peso_final peso_utero
1        1        1     control       ovx         26.0      33.28      0.089
2        1        3     control       ovx         20.4      29.93      0.078
3        2        5     control       ovx         23.5      30.37      0.052
   chol glucose    tag prot  urea album ratio_gluc_chol
1 85.99  109.97 182.42 5.37 66.27 66.82        1.278870
2 99.67  118.37 195.16   NA 52.32    NA        1.187619
3 82.08   95.53 108.13 5.33 26.02    NA        1.163865</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="nuestro-turno-1" class="slide level2" data-background-color="#000000">
<h2><svg aria-hidden="true" role="img" viewbox="0 0 640 512" style="height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:white;overflow:visible;position:relative;"><path d="M128 96h384v256h64V80C576 53.63 554.4 32 528 32h-416C85.63 32 64 53.63 64 80V352h64V96zM624 384h-608C7.25 384 0 391.3 0 400V416c0 35.25 28.75 64 64 64h512c35.25 0 64-28.75 64-64v-16C640 391.3 632.8 384 624 384zM365.9 286.2C369.8 290.1 374.9 292 380 292s10.23-1.938 14.14-5.844l48-48c7.812-7.813 7.812-20.5 0-28.31l-48-48c-7.812-7.813-20.47-7.813-28.28 0c-7.812 7.813-7.812 20.5 0 28.31l33.86 33.84l-33.86 33.84C358 265.7 358 278.4 365.9 286.2zM274.1 161.9c-7.812-7.813-20.47-7.813-28.28 0l-48 48c-7.812 7.813-7.812 20.5 0 28.31l48 48C249.8 290.1 254.9 292 260 292s10.23-1.938 14.14-5.844c7.812-7.813 7.812-20.5 0-28.31L240.3 224l33.86-33.84C281.1 182.4 281.1 169.7 274.1 161.9z"></path></svg> Nuestro turno</h2>
<hr>
<p><br>
</p>
<ul>
<li><p>Descargue la carpeta denominada <span class="verde-h3">taller04</span> disponible en la carpeta compartida.</p></li>
<li><p>Abra el proyecto denominado <span class="verde-h3">taller04.Rproj</span></p></li>
<li><p>Complete y ejecute el código faltante en los chunk de código de la SEGUNDA PARTE.</p></li>
<li><p>Una vez culmine todo el proceso, renderice el archivo .qmd.</p></li>
</ul>
<p><br>
<br>
&nbsp;</p>
<div class="cell">

</div>
<div class="cell">
<div class="cell-output-display">
<div class="countdown" id="timer_5d595daf" data-update-every="1" data-play-sound="true" tabindex="0" style="right:0;bottom:0;font-size:2em;">
<div class="countdown-controls"><button class="countdown-bump-down">−</button><button class="countdown-bump-up">+</button></div>
<code class="countdown-time"><span class="countdown-digits minutes">10</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>
</div>
</div>
</section>
<section id="section-8" class="slide level2">
<h2></h2>
<div class="r-fit-text">
<center>
¡Gracias!
</center>
<center>
¿Preguntas?
</center>
</div>
</section>
<section id="section-9" class="slide level2">
<h2></h2>
<p><br>
</p>
<p><br>
</p>
<p><br>
</p>
<div class="r-fit-text">
<center>
<p><i class="fa-brands fa-twitter" aria-hidden="true"></i> <span class="citation" data-cites="psotob91">@psotob91</span></p>
<p><i class="fa-brands fa-github" aria-hidden="true"></i> https://github.com/psotob91</p>
<i class="fa-solid fa-inbox" aria-hidden="true"></i> percys1991@gmail.com
</center>
</div>

<img src="img/icon-512-insnsb.jpg" class="slide-logo r-stretch"><div class="footer footer-default">
<p>R Aplicado a los Proyectos de Investigación - Sesión 4</p>
</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="sesion04_chalkboard_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="sesion04_chalkboard_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="sesion04_chalkboard_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="sesion04_chalkboard_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="sesion04_chalkboard_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="sesion04_chalkboard_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="sesion04_chalkboard_files/libs/revealjs/plugin/multiplex/socket.io.js"></script>
  <script src="sesion04_chalkboard_files/libs/revealjs/plugin/multiplex/multiplex.js"></script>
  <script src="sesion04_chalkboard_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="sesion04_chalkboard_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="sesion04_chalkboard_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="sesion04_chalkboard_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="sesion04_chalkboard_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'multiplex': {"secret":null,"id":"ed34183b800867a9","url":"https://reveal-multiplex.glitch.me/"},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: true,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'convex',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'zoom',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1600,

        height: 900,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        function fireSlideChanged(previousSlide, currentSlide) {

          // dispatch for htmlwidgets
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for reveal
        if (window.Reveal) {
          window.Reveal.addEventListener("slidechanged", function(event) {
            fireSlideChanged(event.previousSlide, event.currentSlide);
          });
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        target: function(trigger) {
          return trigger.previousElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        setTimeout(function() {
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto-reveal',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const cites = ref.parentNode.getAttribute('data-cites').split(' ');
        tippyHover(ref, function() {
          var popup = window.document.createElement('div');
          cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
        var links = window.document.querySelectorAll('a:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
              // target, if specified
              link.setAttribute("target", "_blank");
              // default icon
              link.classList.add("external");
          }
        }
    });
    </script>
    

</body></html>